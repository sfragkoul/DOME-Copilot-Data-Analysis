{
  "publication/title": "Electrocardiogram-based mortality prediction in patients with COVID-19 using machine learning.",
  "publication/authors": "van de Leur RR, Bleijendaal H, Taha K, Mast T, Gho JMIH, Linschoten M, van Rees B, Henkens MTHM, Heymans S, Sturkenboom N, Tio RA, Offerhaus JA, Bor WL, Maarse M, Haerkens-Arends HE, Kolk MZH, van der Lingen ACJ, Selder JJ, Wierda EE, van Bergen PFMM, Winter MM, Zwinderman AH, Doevendans PA, van der Harst P, Pinto YM, Asselbergs FW, van Es R, Tjong FVY,",
  "publication/journal": "Netherlands heart journal : monthly journal of the Netherlands Society of Cardiology and the Netherlands Heart Foundation",
  "publication/year": "2022",
  "publication/pmid": "35301688",
  "publication/pmcid": "PMC8929464",
  "publication/doi": "10.1007/s12471-022-01670-2",
  "publication/tags": "- Electrocardiogram (ECG)\n- COVID-19\n- Mortality Prediction\n- Machine Learning\n- Deep Neural Networks (DNNs)\n- Logistic Regression\n- LASSO\n- Cardiovascular Disease\n- Risk Stratification\n- Transfer Learning",
  "dataset/provenance": "The dataset used in this study originates from the CAPACITY-COVID registry, an international consortium established to evaluate the role of cardiovascular disease in the COVID-19 pandemic. Data was collected from 74 centers across 13 different countries, resulting in a dataset of over 17,000 patient records. For this specific study, a subset of patients admitted to the emergency ward between March 1, 2020, and August 28, 2020, was selected. From this subset, clinical data and raw-format 12-lead resting ECGs (XML) were collected. After evaluation by experienced investigators, 882 patients were found eligible for inclusion. The final development dataset consisted of 634 patients, with 179 (28%) experiencing mortality, while the validation dataset included 248 patients, with 57 (23%) deaths. The dataset primarily focuses on ECG data, with age and sex included as metadata, to evaluate the predictive value of ECGs in risk stratification of COVID-19 patients. The use of a single data modality, the ECG, was chosen for its time efficiency and to avoid the need for deriving data from multiple sources such as medical records or laboratory results.",
  "dataset/splits": "The dataset was split into two main parts: a development dataset and a validation dataset. The development dataset consisted of 634 patients, of which 179 (28%) died. The validation dataset consisted of 248 patients, of which 57 (23%) died. Additionally, data from two separate hospitals (n = 248) were used for external validation. This external validation dataset was used to better evaluate the generalisability of the models.",
  "dataset/redundancy": "The dataset used in this study was derived from the CAPACITY-COVID registry, which includes data from 74 centers across 13 different countries, totaling over 17,000 patient records. For this specific study, data from seven hospitals in the Netherlands were utilized. The dataset consisted of clinical data and raw-format 12-lead resting ECGs collected from COVID-19 patients admitted to the emergency ward between March 1, 2020, and August 28, 2020.\n\nThe dataset was split into a development dataset and a validation dataset. The development dataset included 634 patients, of which 179 (28%) died, while the validation dataset consisted of 248 patients, with 57 (23%) deaths. This split was designed to ensure that the training and test sets were independent, thereby avoiding data leakage and ensuring robust model evaluation.\n\nTo further evaluate the generalizability of the models, an external validation was performed using data from two separate hospitals, comprising 248 patients. This approach helped in assessing how well the models performed on data from different sources, which is crucial for their real-world applicability.\n\nThe distribution of the dataset in terms of patient characteristics, such as age, sex, and cardiovascular risk factors, was carefully considered. The cohort had an average age of 67 years, with 35% being female. Common cardiovascular risk factors included hypertension (51%), diabetes (26%), and coronary artery disease (21%). This distribution is representative of the broader population of COVID-19 patients, ensuring that the findings are relevant and applicable to similar patient groups.\n\nIn summary, the dataset was meticulously split and validated to ensure independence between training and test sets, and the distribution aligns with previously published machine learning datasets in the context of COVID-19 and cardiovascular health.",
  "dataset/availability": "Not enough information is available.",
  "optimization/algorithm": "The machine-learning algorithm class used in this study is deep neural networks (DNNs). These are a subset of machine learning algorithms that use multiple layers to extract features from raw input signals, such as ECG waveforms. The DNNs employed in this research were not newly developed for this specific task. Instead, they were pre-trained on a large non-COVID-19 ECG dataset from four different countries, demonstrating their ability to perform comprehensive ECG interpretation. This pre-trained model was then transferred to the complex task of mortality prediction in COVID-19 patients with minimal fine-tuning. The decision to use a pre-trained DNN was driven by the need for time efficiency and the desire to use only one data modality, avoiding the need to derive data from multiple sources like medical records or laboratory results. The study focused on evaluating the value of using ECGs to predict in-hospital all-cause mortality in COVID-19 patients and comparing the performance of the transferred DNN with a logistic regression-based approach using manually interpreted ECG features and basic demographic data. The DNNs showed promising results, maintaining predictive value even after external validation in different hospitals with varying ECG devices. This approach highlights the potential of DNNs in handling smaller datasets with complex prediction tasks, making them a valuable tool in medical research and practice.",
  "optimization/meta": "In our study, we employed two distinct approaches to predict in-hospital all-cause mortality in COVID-19 patients using ECG data. The first approach utilized a classical LASSO logistic regression model, which relied on human-annotated ECG features. The second approach involved a fine-tuned deep neural network (DNN) that was pre-trained on raw ECG signals from a large dataset of nearly 300,000 patients.\n\nThe DNN, in particular, can be considered a form of meta-predictor as it leverages the outputs and learned representations from its pre-training phase on a comprehensive ECG dataset. This pre-training involved a large and diverse set of ECG signals, allowing the DNN to learn complex patterns and features from the raw waveforms. The model was then fine-tuned on our specific dataset of COVID-19 patients, enabling it to adapt to the new task of predicting mortality.\n\nThe LASSO logistic regression model, on the other hand, does not function as a meta-predictor. It directly uses manually extracted ECG features as input, along with age and sex, to make predictions. This approach requires time-consuming human interpretation and annotation of ECGs, which is a limitation compared to the automated and more efficient DNN approach.\n\nRegarding the independence of training data, it is crucial to note that the DNN was pre-trained on a large, non-COVID-19 ECG dataset from multiple countries. This dataset was distinct and independent from the dataset used for fine-tuning and validation in our study. The external validation was performed in different hospitals using various ECG devices, further ensuring the independence and generalizability of the results. This independence is a strength of our study, as it demonstrates the transferability and robustness of the pre-trained DNN across different settings and patient populations.",
  "optimization/encoding": "The data encoding and preprocessing steps were crucial for ensuring the deep neural network (DNN) could effectively learn from the electrocardiogram (ECG) data. The primary goal was to use a single data modality, specifically the raw ECG signals, to make the process time-efficient and avoid the need for deriving data from multiple sources like medical records or laboratory results.\n\nSeveral preprocessing steps were applied to normalize the input data per hospital. This was essential because not all hospitals used the same ECG machines, and different machines have varying filtering settings, which could introduce bias. By normalizing the data, we aimed to minimize this effect and ensure consistency across different datasets.\n\nThe DNN used in this study was pre-trained on a large non-COVID-19 ECG dataset from four different countries. This pre-training allowed the model to perform comprehensive ECG interpretation with minimal fine-tuning. The model was then fine-tuned on the COVID-19 dataset, which included raw ECG signals from almost 300,000 patients. This approach demonstrated the transferability of the DNN to a new task with similar accuracy to more time-consuming manual feature extraction methods.\n\nExternal validation was performed in different hospitals using various ECG devices, including the Welch Allyn Mortara device. The model's performance remained robust, indicating that the ECG device and its specific filters and electrodes had limited influence on the DNN's predictive value. This finding is promising for the potential use of pre-trained ECG-DNNs in smaller datasets for diagnosis or prediction tasks using raw ECG formats.\n\nIn summary, the data encoding involved using raw ECG signals, and preprocessing included normalization steps to account for differences in ECG machines and settings across hospitals. This approach ensured that the DNN could effectively learn from the data and maintain its predictive value across different environments.",
  "optimization/parameters": "In our study, we developed three models to predict in-hospital all-cause mortality in COVID-19 patients using electrocardiogram (ECG) data. The number of parameters (p) used in each model varied based on the approach taken.\n\nThe baseline model, a logistic regression model, used two parameters: age and sex. These parameters were selected because they are known to be important predictors of mortality and are always present in the metadata of an ECG.\n\nThe LASSO (Least Absolute Shrinkage and Selection Operator) model incorporated additional parameters derived from manually annotated ECG features. The specific ECG features included in the final model were selected through a process that involved regularization to prevent overfitting and to enhance the model's generalizability. The LASSO model thus included age, sex, and a set of manually extracted ECG features, the exact number of which was determined through the regularization process.\n\nThe deep neural network (DNN) model utilized a pre-trained network that was fine-tuned on raw ECG signals. This model did not rely on manually extracted features but instead learned directly from the raw ECG data. The number of parameters in the DNN was significantly higher due to the complexity of the neural network architecture, which included multiple layers and nodes designed to capture intricate patterns in the ECG data.\n\nThe selection of parameters in each model was guided by the goal of achieving the best predictive performance while maintaining simplicity and generalizability. For the baseline and LASSO models, the parameters were chosen based on their known clinical significance and the results of the regularization process. For the DNN, the parameters were determined by the architecture of the neural network, which was designed to handle the high-dimensional nature of raw ECG data.",
  "optimization/features": "In our study, we utilized three distinct models to predict mortality in COVID-19 patients using electrocardiogram (ECG) data. The first model, a baseline logistic regression model, employed only two features: age and sex. These features were chosen due to their consistent availability in ECG metadata and their established significance as predictors in various medical studies.\n\nThe second model, a least absolute shrinkage and selection operator (LASSO) logistic regression, incorporated a broader set of features. These included age, sex, and a range of manually annotated ECG features. The specific ECG features used in this model were selected based on their known clinical relevance and their potential to provide prognostic information. Feature selection was performed using the training dataset to ensure that only the most informative features were included in the final model. This process helped to reduce overfitting and improve the model's generalizability.\n\nThe third model, a deep neural network (DNN), utilized raw ECG signals as input. This approach allowed the model to learn complex patterns directly from the ECG data without the need for manual feature extraction. The DNN was pre-trained on a large dataset of non-COVID-19 ECGs from multiple countries, which enabled it to capture a wide range of ECG features. Fine-tuning was performed on the COVID-19 dataset to adapt the model to the specific task of mortality prediction. The DNN's ability to handle high-dimensional data made it a powerful tool for this study, particularly in settings where expert knowledge of ECG interpretation may be limited.",
  "optimization/fitting": "The deep neural network (DNN) model used in this study had a significantly larger number of trainable parameters compared to the number of training points. To mitigate the risk of overfitting, several techniques were employed. The DNN was pre-trained on a large non-COVID-19 ECG dataset from multiple countries, which allowed it to learn general features from ECG data. Additionally, measures such as freezing of layers and dropout were implemented during the fine-tuning process on the COVID-19 dataset. These techniques helped to prevent the model from becoming too specialized to the training data, thereby reducing overfitting.\n\nTo ensure the model did not underfit, rigorous validation methods were used. The model's performance was evaluated in an external validation set consisting of data from different hospitals with varying ECG devices. This external validation helped to assess the model's generalizability and ensure it was not too simplistic. The high correlation between the DNN model and the LASSO model, as well as the similar performance metrics, indicated that the DNN was appropriately complex for the task at hand. Furthermore, the model's performance was consistent across different subgroups, such as males and females, which further supported its robustness.",
  "optimization/regularization": "In our study, several techniques were employed to prevent overfitting in the deep neural network (DNN) model. These included pre-training the model on a large non-COVID-19 ECG dataset from multiple countries, which allowed the model to learn general ECG features before being fine-tuned on the specific task of mortality prediction in COVID-19 patients. Additionally, we used layer freezing, where certain layers of the pre-trained model were kept fixed during fine-tuning to retain the learned features. Dropout was also implemented, which randomly sets a fraction of input units to zero at each update during training time, helping to prevent overfitting by reducing the model's reliance on any single feature. Despite these measures, the DNN model still showed signs of overconfidence in the training dataset, as indicated by a decrease in the c-statistic from 0.86 to 0.77 in the external validation set. This highlights the importance of rigorous validation methods in deep learning research to obtain reliable estimates of predictive performance.",
  "optimization/config": "Not enough information is available.",
  "model/interpretability": "The models employed in this study include both a deep neural network (DNN) and a logistic regression model using the least absolute shrinkage and selection operator (LASSO). The LASSO model can be considered more transparent compared to the DNN. In the LASSO model, the coefficients of the manually extracted ECG features represent the importance of each feature in predicting mortality. Negative values indicate a lower risk of mortality, providing clear insights into which ECG features are associated with better or worse outcomes. For instance, features like sex and left bundle branch block were found to be predictive of a lower risk of mortality.\n\nOn the other hand, the DNN is more of a black-box model. While it demonstrated high predictive performance, it is challenging to interpret which specific features of the raw ECG signals the model is using to make its predictions. This lack of interpretability is a common characteristic of deep learning models, which learn complex patterns directly from the raw data. Techniques for visualizing and interpreting DNNs are an active area of research, but they were not extensively applied in this study. Therefore, while the DNN showed strong predictive capabilities, the exact ECG features it relies on remain less clear compared to the LASSO model.",
  "model/output": "The model is a classification model designed to predict in-hospital all-cause mortality in COVID-19 patients using electrocardiogram (ECG) data during admission. Three different models were developed and evaluated: a baseline logistic regression model using age and sex, a least absolute shrinkage and selection operator (LASSO) model incorporating age, sex, and human-annotated ECG features, and a deep neural network (DNN) model utilizing age, sex, and raw ECG waveforms.\n\nThe performance of these models was assessed using various metrics. The c-statistic, which measures the discriminatory power of the models, was reported for each. The baseline model had a c-statistic of 0.73 in both the development and validation datasets. The LASSO model showed a slightly improved c-statistic of 0.76 in the validation dataset, while the DNN model achieved a c-statistic of 0.77. Additionally, calibration slopes and intercepts were provided to evaluate how well the predicted probabilities matched the observed outcomes. Sensitivity, specificity, positive predictive value, and negative predictive value were also calculated at different probability cut-offs to further assess the models' performance.\n\nThe models demonstrated similar performance across different subgroups, including males and females. For males, the c-statistics ranged from 0.72 to 0.77, depending on the model. For females, the c-statistics ranged from 0.74 to 0.76. The high correlation between the DNN and LASSO models, with a Pearson correlation coefficient of 0.86, indicated consistent predictions between these two approaches. Overall, the models showed promising results in predicting mortality, with the DNN model slightly outperforming the others in terms of discriminatory power.",
  "model/duration": "The execution time for the models varied depending on the approach used. The deep neural network (DNN) model, which was pre-trained on a large non-COVID-19 ECG dataset, required minimal fine-tuning. This pre-training and fine-tuning process was efficient, allowing the model to be transferred to the mortality prediction task with minimal additional time investment. The DNN's ability to handle raw ECG signals without the need for manual feature extraction made it particularly time-efficient.\n\nIn contrast, the LASSO logistic regression model relied on manually derived ECG features. This process was more time-consuming, as it involved the collection and labeling of specific ECG features. However, once these features were extracted, the LASSO model could be trained relatively quickly.\n\nThe baseline age and sex model, being a simple logistic regression, had the shortest execution time. It required minimal data processing and could be trained and validated swiftly.\n\nOverall, the DNN model stood out for its efficiency, especially in the context of external validation across different hospitals and ECG devices. This efficiency is crucial for practical applications, where time is often a critical factor.",
  "model/availability": "Not enough information is available.",
  "evaluation/method": "The evaluation of the methods involved a unique multicentre cohort of COVID-19 patients. Two approaches were assessed and externally validated: a classical LASSO logistic regression on human-annotated ECG features and a fine-tuned deep neural network (DNN) pre-trained on raw ECG signals from nearly 300,000 patients. The study is notable for being one of the first to demonstrate the transferability of a pre-trained DNN to different datasets, ECG machines, and tasks, achieving similar accuracy to manual ECG feature extraction.\n\nExternal validation was conducted across different centers, which is uncommon in current research on DNN-based ECG interpretation. This validation is crucial as it opens possibilities for using highly dimensional DNNs in smaller datasets with complex prediction tasks. The evaluation included a comparison of predicted probabilities between the DNN model and the LASSO model, showing a high correlation (Pearson correlation r = 0.86, p < 0.001).\n\nThe performance of the models was assessed using various metrics, including c-statistic, calibration slope and intercept, sensitivity, specificity, positive predictive value (PPV), and negative predictive value (NPV). The c-statistic for the DNN was 0.86 in the development dataset and 0.77 in the validation dataset, indicating robust predictive performance even after external validation. The study also highlighted the limited added predictive value of ECG features above age and sex, aligning with earlier studies that showed age and sex as primary drivers in multivariate models.\n\nSubgroup analyses revealed similar performance for males and females across all models. The baseline age and sex model had a c-statistic of 0.73 in both the development and validation datasets, underscoring the importance of these variables in mortality prediction. The DNN model's performance was consistent across different hospitals and ECG devices, demonstrating its generalizability and potential for widespread application.",
  "evaluation/measure": "In our study, we evaluated the performance of three models: a baseline age and sex model, a LASSO logistic regression model using manually extracted ECG features, and a deep neural network (DNN) model. The performance metrics reported include the c-statistic, calibration slope and intercept, sensitivity, specificity, positive predictive value (PPV), and negative predictive value (NPV). These metrics provide a comprehensive view of the models' discriminatory and calibration performance.\n\nThe c-statistic, also known as the area under the receiver operating characteristic curve (AUC-ROC), measures the model's ability to discriminate between patients who died and those who survived. It ranges from 0.5 (no discrimination) to 1 (perfect discrimination). The calibration slope and intercept assess how well the predicted probabilities align with the actual outcomes. A calibration slope of 1 and an intercept of 0 indicate perfect calibration.\n\nSensitivity, or recall, measures the proportion of true positives correctly identified by the model, while specificity measures the proportion of true negatives correctly identified. PPV indicates the probability that a positive prediction is a true positive, and NPV indicates the probability that a negative prediction is a true negative. These metrics were evaluated at probability cut-offs of 22%, 25%, and 30%.\n\nThe set of metrics reported is representative of the literature on model evaluation. The c-statistic is widely used to compare the discriminatory power of different models. Calibration metrics are essential for understanding how well the predicted probabilities can be interpreted as actual probabilities. Sensitivity, specificity, PPV, and NPV provide insights into the models' performance at different decision thresholds, which is crucial for clinical decision-making.",
  "evaluation/comparison": "In our study, we evaluated two distinct approaches for mortality prediction in COVID-19 patients using electrocardiogram (ECG) data. The first approach involved a classical LASSO logistic regression model, which utilized human-annotated ECG features. The second approach employed a deep neural network (DNN) that was pre-trained on a large non-COVID-19 ECG dataset and fine-tuned for our specific task.\n\nThe LASSO model provided a baseline comparison by using manually extracted ECG features, which is a more traditional and time-consuming method. This model allowed us to assess the predictive power of specific ECG features that are commonly analyzed by clinicians.\n\nIn contrast, the DNN model leveraged raw ECG waveforms, requiring minimal feature engineering. This approach is more efficient and scalable, as it can handle high-dimensional data directly. The DNN was previously trained on a comprehensive dataset from multiple countries, demonstrating its ability to generalize across different populations and ECG devices.\n\nTo ensure the robustness of our findings, we performed external validation in different hospitals using various ECG machines. This step is crucial for assessing the generalizability of our models, as it shows that they can perform well even when applied to data from different sources.\n\nThe comparison between the LASSO and DNN models revealed that both approaches achieved similar levels of accuracy. However, the DNN model offered the advantage of being more time-efficient and requiring less manual intervention. This makes it a promising tool for clinical settings where rapid and automated risk stratification is essential.\n\nOverall, our study highlights the potential of using ECG data for mortality prediction in COVID-19 patients and demonstrates the effectiveness of both traditional and advanced machine learning techniques in this context. The DNN model, in particular, shows great promise for future applications in healthcare, where quick and accurate predictions are vital.",
  "evaluation/confidence": "The evaluation of the models presented in this study includes several performance metrics with associated confidence intervals, providing a measure of the uncertainty around these estimates. For instance, the c-statistic, which is a measure of the discriminatory power of the models, is reported with 95% confidence intervals for both the development and validation datasets. This allows for an assessment of the precision of the c-statistic estimates.\n\nThe c-statistic for the deep neural network (DNN) model was 0.86 with a 95% confidence interval of 0.83 to 0.89 in the development dataset, and 0.77 with a 95% confidence interval of 0.70 to 0.83 in the validation dataset. Similarly, the LASSO model had a c-statistic of 0.76 with a 95% confidence interval of 0.68 to 0.82 in the validation dataset. These intervals indicate the range within which the true c-statistic is likely to fall, providing a sense of the reliability of these estimates.\n\nIn addition to the c-statistic, other performance metrics such as calibration slope and intercept, sensitivity, specificity, positive predictive value (PPV), and negative predictive value (NPV) are also presented with confidence intervals. For example, the calibration slope for the DNN model is 1.46 with a 95% confidence interval of 0.96 to 2.14, and the calibration intercept is -0.04 with a 95% confidence interval of -0.51 to 0.49. These intervals help to understand the variability and reliability of the calibration metrics.\n\nStatistical significance is also considered in the evaluation. For instance, the high correlation between the DNN model and the LASSO model (Pearson correlation r = 0.86, p < 0.001) indicates that the differences in predicted probabilities between the two models are statistically significant. This suggests that the DNN model's performance is not only comparable to but also significantly aligned with the LASSO model.\n\nOverall, the inclusion of confidence intervals for the performance metrics and the assessment of statistical significance provide a robust evaluation of the models' performance. This allows for a more confident claim that the methods, particularly the DNN model, are effective and reliable for the task of predicting mortality in COVID-19 patients based on ECG data.",
  "evaluation/availability": "The raw evaluation files, specifically the raw-format 12-lead resting ECGs in XML format, were collected from a subset of patients admitted to the emergency ward between March 1, 2020, and August 28, 2020. These ECGs were evaluated by multiple experienced investigators, and ECG features were manually extracted when present. The data was then split into a development dataset and a validation dataset.\n\nThe models developed in this study include a logistic regression baseline model using age and sex, a least absolute shrinkage and selection operator (LASSO) model using age, sex, and human-annotated ECG features, and a pre-trained deep neural network (DNN) using age, sex, and the raw ECG waveforms. The performance of these models was evaluated using data from two separate hospitals for external validation.\n\nThe evaluation datasets and the methods used for data collection, ECG evaluation, data pre-processing, and model development are described in detail in the Supplementary Methods section in the Electronic Supplementary Material (ESM). However, the specific availability of the raw evaluation files for public release is not mentioned. Therefore, it is not clear whether these files are publicly available or under what license they might be released."
}